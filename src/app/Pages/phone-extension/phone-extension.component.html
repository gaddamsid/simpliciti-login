<h3 class="header-title"> {{'Phone Extensions' | translate}}</h3>
<div class="container-fluid mt-3"  *ngIf="showAddForm">
         <form [formGroup]="PhoneExtForm" 
      (ngSubmit)="addData(PhoneExtForm.value)">
  <!-- add form -->
  <div class="row">
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100" [disabled]="showEditForm" [ngClass]="showEditForm === true ? 'disable-field pb-0 border-bottom-black' : ''" >
        <mat-label>{{"Phone Extensions" | translate }}</mat-label>
        <input matInput digitOnly formControlName="phoneExt"   minLength="4" maxlength="4"  tabindex="-1" [id]="'phoneExt'" appNotAllowWhiteSpaceStart/>
        <!-- ERRORS -->
          <mat-error *ngIf="PhoneExtForm.get('phoneExt')?.hasError('required')" [id]="'phoneExt1'" >
                    {{'Phone Extensions is Required' | translate}}
         </mat-error>
  
           <mat-error *ngIf="PhoneExtForm.get('phoneExt')?.hasError('minlength')" [id]="'phoneExt2'">
              {{'Phone Ext is invalid. Should be 4 digits' | translate}}
            </mat-error>
  
           <mat-error *ngIf="PhoneExtForm.get('phoneExt')?.hasError('invalid')"  [id]="'phoneExt3'" >
                    {{ PhoneExtForm.get('phoneExt')?.getError('invalid') |
                    translate }}
            </mat-error>
    
       <!-- ERRORS -->
     
     
      </mat-form-field>

    </div>
    <div class="col-md-3">

      <mat-form-field appearance="fill" class="w-100">
        <mat-label>{{ "Seq No." | translate }}</mat-label>
        <input matInput  digitOnly  [id]="'seqNo'" maxlength="2"  formControlName="seqNo"   appNotAllowWhiteSpaceStart
/>   <!-- ERRORS -->
          <mat-error *ngIf="PhoneExtForm.get('phoneExt')?.hasError('required')" [id]="'seqNo'" >
                    {{ 'Seq No. is Required' | translate }}
            </mat-error>
         <!-- ERRORS -->
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>{{"Active" | translate}}</mat-label>
           <mat-select [id]="'ActiveId'" formControlName="isActive">
                            <mat-option value="Y">{{"Y - Active" | translate}}</mat-option>
                            <mat-option value="N">{{"N - In-Active" | translate}}</mat-option>
                    </mat-select>

                           <!-- ERRORS -->
                   <mat-error *ngIf="PhoneExtForm.get('isActive')?.hasError('required')" [id]="'isActive1'" >
                    {{ 'IsActive is Required' | translate }}
                  </mat-error>
                     <!-- ERRORS -->
      </mat-form-field>
    </div>
    
    <div class="col-md-3">
      <div class="align-items-end  mb-4 d-flex justify-content-end">
             <button mat-raised-button class="m-1 color-blue" [id]="'Cancel'" (click)="cancelAdd_Save()">{{'Cancel'| translate}}</button>
            <button mat-raised-button class="color-blue m-1"  *ngIf="addBtn" [id]="'addBtn'">{{'Add' | translate}}</button>
              <button type="button"  mat-raised-button class="m-1 color-blue" [id]="'Searchbtn'"*ngIf="!addBtn" (click)="updateRecord(PhoneExtForm.value)">
              {{'Save' |translate}}
            </button>
        </div>
    </div>
  </div>
</form>
  <!-- add form end -->

  
</div>

<div class="container-fluid"  [hidden]="showAddForm">
      <!-- search form -->
  <div class="row">
    <div class="col-sm-12">
      <div class="align-items-center d-flex row">
        <div class="col-6">
      <mat-form-field appearance="fill">
                <mat-label>{{ "Search" | translate }}</mat-label>
                    <input matInput #search matInput [id]="'Search1'"
                         placeholder="Type" 
                         (keyup)="applyFilter($event)" />
              </mat-form-field>
        </div>
        <div class="col-6">
          <div class="text-right">
            <button mat-raised-button appearance="fill" class="m-1 color-blue" [id]="'Add'" (click)="showAddFormPage()">
              {{ "Add" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- search from end -->

   <div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">
  <ng-container matColumnDef="phoneExt">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ "Phone Extensions" | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-right"> {{element.phoneExt}} </td>
  </ng-container>

  <ng-container matColumnDef="seqNo">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ "Seq No." | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-right"> {{element.seqNo}} </td>
  </ng-container>

  <ng-container matColumnDef="isActive">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>{{"Is Active" | translate}} </th>
    <td mat-cell *matCellDef="let element" class="text-center"> {{element.isActive}} </td>
  </ng-container>

  <ng-container matColumnDef="modifiedBy">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ "Modified By" | translate }}  </th>
    <td mat-cell *matCellDef="let element"  class="text-left"> {{element.modifiedBy}} </td>
  </ng-container>

    <ng-container matColumnDef="modifiedOn">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ "Modified On" | translate }}</th>
    <td mat-cell *matCellDef="let element"  class="text-center"> {{element.modifiedOn+'Z' | date:'medium' }} </td>
  </ng-container>

   <ng-container matColumnDef="action">
      <th mat-header-cell  *matHeaderCellDef>{{ "Action" | translate }}</th>
     <td mat-cell *matCellDef="let row" class="text-center">
                <button mat-icon-button color="dark-grey" [id]="'Edit'" (click)="editIconClicked(row)" title="{{'Edit' | translate }}">
                  <mat-icon class="edit-blue">edit</mat-icon>
                </button>
               <button mat-icon-button color="dark-grey" [id]="'Delete'" title="{{'Delete' | translate }}" (click)="deleteRecord(row)">
                  <mat-icon class="color-light-gray">delete</mat-icon>
                </button>
               
              </td>
    </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
</table>
 <div class="col-sm-12 text-center" *ngIf="dataSource.filteredData?.length === 0"> {{'No records found' | translate}}</div>
      
        <mat-paginator
        [pageSizeOptions]="[10, 20, 50, 100]"
        showFirstLastButtons
        [hidden]="showAddForm"
      ></mat-paginator>

</div>
</div>
