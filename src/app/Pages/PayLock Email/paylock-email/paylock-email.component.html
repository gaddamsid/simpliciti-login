<h3 class="header-title">
    {{'Pay Lock Email ' | translate}}
  </h3>
  <div class="container-fluid">
<div [hidden]="showpaylockForm">
<div class="row" >
    <div class="col-sm-12">
      <div class="align-items-center d-flex row">
        <div class="col-6">
          <mat-form-field appearance="fill">
            <mat-label>{{ "Search" | translate }}</mat-label>
            <input matInput #searchField placeholder="Type" (keyup)="applyFilter($event)" [id]="'Search'" >
          </mat-form-field>
        </div>
        <div class="col-6">
          <div class="text-right">
            <button mat-raised-button class="m-1 color-blue" (click)="addpaylockEmail()" title="Add" [id]="'add_email'">
              {{ "Add" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <table mat-table [dataSource]="dataSource" matSortDisableClear matSort class="mat-elevation-z8" >
    <ng-container matColumnDef="sNo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'SNo' | translate}} </th>
      <td mat-cell *matCellDef="let element" class="text-right"> {{element.sNo}} </td>
    </ng-container>

    <ng-container matColumnDef="emailId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'Email ID' | translate}} </th>
      <td mat-cell *matCellDef="let element" class="text-left"> {{element.emailId}} </td>
    </ng-container>

    <ng-container matColumnDef="Action">
      <tr>
        <th mat-header-cell *matHeaderCellDef class="text-center">{{'Action' | translate}}</th>
      </tr>
      <tr>
        <td mat-cell *matCellDef="let row" class="text-center">
          <button mat-icon-button color="dark-grey" title="Edit" title="{{'Edit' | translate }}" >
            <mat-icon class="edit-blue" (click)="editpaylockEmail(row)">edit</mat-icon>
          </button>
          <button mat-icon-button color="dark-grey" title="Delete" title="{{'Delete' | translate }}"  class="text-center">
            <mat-icon class="color-light-gray" (click)="deletepaylockEmail(row)">delete</mat-icon>
          </button>
        </td>
      <tr>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <div class="col-sm-12 text-center" *ngIf="dataSource.filteredData?.length === 0"> {{'No records found' | translate}}</div>
  <mat-paginator [pageSizeOptions]="[10,20,50,100]" showFirstLastButtons ></mat-paginator>

</div>

<div *ngIf="showpaylockForm">
    <form [formGroup]="paylockEmailForm"  (ngSubmit)="savepaylockEmail(paylockEmailForm.value)">
<div class="row" >
    <div class="col-md-2">
        <mat-form-field appearance="fill" class="w-100"  [disabled]="showpaylockForm" [ngClass]="showpaylockForm === true ? 'disable-field pb-0 border-bottom-black' : ''">
            <mat-label>{{ "SNo" | translate }}</mat-label>
            <input matInput placeholder="number" maxlength="3" formControlName="sNo" [id]="'sNo'"/>
            <mat-error *ngIf="paylockEmailForm.get('emailID')?.hasError('required')" [id]="'error_sNo'">{{'SNO is Required' | translate}}</mat-error>
        </mat-form-field>
    </div>
    <div class="col-md-4">
        <mat-form-field appearance="fill" class="w-100">
            <mat-label>{{ "Email ID" | translate }}</mat-label>
            <input matInput placeholder="Type" formControlName="emailID" [id]="'emailID'" maxlength="56"/>
            <mat-error *ngIf="paylockEmailForm.get('emailID')?.hasError('required')" [id]="'error_emailID'">{{'EmailID is Required' | translate}}</mat-error>
            <mat-error *ngIf="paylockEmailForm.get('emailID')?.hasError('pattern')" [id]="'error_emailIDaddress'">{{'Email address is invalid' | translate}}</mat-error>
        </mat-form-field>
    </div>
</div>
<div class="row">
    <div class="col-md-12 align-items-end justify-content-end d-flex">
        <button mat-raised-button class="color-blue" (click)="cancelPaylock()" [id]="'cancel'">{{'Cancel' | translate}}</button>
        <button mat-raised-button class="color-blue ml-2" *ngIf="addPaylockButton" [id]="'add'">{{'Add' | translate}}</button>
        <button mat-raised-button type="button" class="color-blue ml-2" [id]="'save'" (click)="updatePaylockEmail(paylockEmailForm.value)"  *ngIf="!addPaylockButton">{{'Save' | translate}}</button>
    </div>
</div>
</form>
</div>
</div>
